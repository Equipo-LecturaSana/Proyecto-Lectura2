<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Librer칤a LecturaSana - Inicio</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" />
    <link rel="stylesheet" th:href="@{/css/style.css}">   
    <link rel="stylesheet" th:href="@{/css/footer.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    
</head>

<body>
<div th:replace="fragmentos/navbar :: navbar"></div>

<main class="container my-4">
    <div class="bienvenida">
        <h1 class="text-center mb-4">Bienvenido a Librer칤a LecturaSana</h1>
    </div>

    <p class="lead text-center">Explora nuestra vasta colecci칩n de libros. 춰Tu pr칩xima aventura te espera!</p>

    <!-- 游댳 Carrusel din치mico -->
    <section class="mb-5">
        <h2 class="mb-3 text-center">Novedades Destacadas</h2>
        <div class="overflow-hidden" style="height: 400px;">
            <div id="novedadesCarousel" class="carousel slide h-100" data-bs-ride="carousel" data-bs-interval="3000" data-bs-pause="false">
                <div class="carousel-inner h-100">
                    <div th:each="libro, iter : ${carrusel}"
                         th:classappend="${iter.index == 0} ? 'active' : ''"
                         class="carousel-item h-100">
                        <img th:src="${libro.imagen}" class="d-block w-100 h-100 object-fit-cover" th:alt="${libro.titulo}">
                        <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-2">
                            <h5 th:text="${libro.titulo}"></h5>
                            <p th:text="${#strings.abbreviate(libro.sinopsis, 120)}"></p>
                        </div>
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#novedadesCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Anterior</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#novedadesCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Siguiente</span>
                </button>
            </div>
        </div>
    </section>

    <!-- 游댳 Recomendaciones din치micas -->
    <section class="mb-5">
        <h2 class="mb-4 text-center">Nuestras Recomendaciones</h2>
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
            <div class="col" th:each="libro : ${recomendaciones}">
                <div class="card h-100 shadow-sm">
                    <div class="overflow-hidden" style="height: 250px;">
                        <img th:src="${libro.imagen}" class="w-100 h-100 object-fit-cover" th:alt="${libro.titulo}">
                    </div>
                    <div class="card-body">
                        <h5 class="card-title" th:text="${libro.titulo}"></h5>
                        <p class="card-text" th:text="${#strings.abbreviate(libro.sinopsis, 150)}"></p>
                        <span class="badge bg-primary mb-2" th:text="${libro.categoria}"></span>
                        <span class="badge bg-info mb-2" th:text="${libro.genero}"></span>
                        <p class="card-text"><small class="text-muted" th:text="'Autor: ' + ${libro.autor}"></small></p>
                        <a th:href="@{'/catalogo/detalle/' + ${libro.id}}" class="btn btn-primary">Ver Detalles</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 游댳 Estilo Favorito din치mico -->
    <section class="container my-5 bg-light p-4 rounded shadow-sm">
        <h2 class="text-center mb-4">Encuentra tu Estilo Favorito</h2>
        <div class="row row-cols-2 row-cols-md-3 row-cols-lg-6 g-3 text-center">
            <div class="col" th:each="libro : ${estiloFavorito}">
                <a th:href="@{'/catalogo?genero=' + ${libro.genero}}" class="d-block text-decoration-none text-dark">
                    <div class="overflow-hidden rounded-circle mx-auto" style="width: 100px; height: 100px;">
                        <img th:src="${libro.imagen}" class="w-100 h-100 object-fit-cover" th:alt="${libro.genero}">
                    </div>
                    <p class="fw-bold mt-2" th:text="${libro.genero}"></p>
                </a>
            </div>
        </div>
    </section>

    <!-- 游댳 Colecciones din치micas -->
    <section class="container my-5">
        <h2 class="text-center mb-4">Colecciones Imprescindibles</h2>
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
            <div class="col" th:each="libro : ${colecciones}">
                <div class="card h-100 shadow-sm">
                    <div class="overflow-hidden" style="height: 250px;">
                        <img th:src="${libro.imagen}" class="w-100 h-100 object-fit-cover" th:alt="${libro.titulo}">
                    </div>
                    <div class="card-body">
                        <h5 class="card-title" th:text="${libro.titulo}"></h5>
                        <p class="card-text" th:text="${#strings.abbreviate(libro.sinopsis, 150)}"></p>
                        <a th:href="@{'/catalogo/coleccion/' + ${libro.categoria}}" class="btn btn-primary">Ver Colecci칩n</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 游댳 Cat치logo completo -->
    <section class="text-center bg-light p-5 rounded shadow-sm">
        <h2 class="mb-3">쯅o encuentras lo que buscas?</h2>
        <p class="lead mb-4">Nuestro cat치logo es vasto y siempre estamos a침adiendo nuevos t칤tulos. 춰Expl칩ralo completo!</p>
        <a th:href="@{/catalogo}" class="btn btn-lg btn-success">Ir al Cat치logo Completo</a>
    </section>

</main>

<div th:replace="fragmentos/footer :: footer"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
